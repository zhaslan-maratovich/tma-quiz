# Страницы (Pages)

Страницы приложения, реализованные по паттерну **Container/View**.

## Структура

```
pages/
├── creator/                 # Страницы создателя тестов
│   ├── HomePage/            # Главная страница со списком тестов
│   ├── CreatePage/          # Страница создания теста (выбор типа)
│   ├── EditTestPage/        # Редактор теста
│   ├── SharePage/           # Страница шеринга теста
│   ├── AnalyticsPage/       # Страница аналитики
│   └── index.ts
│
├── player/                  # Страницы прохождения теста
│   ├── WelcomePage/         # Приветственная страница теста
│   ├── QuestionPage/        # Страница вопроса
│   ├── ResultPage/          # Страница результата
│   └── index.ts
│
└── README.md
```

## Container/View паттерн

Каждая страница состоит из:

| Файл | Назначение |
|------|------------|
| `*.types.ts` | TypeScript интерфейсы props |
| `*.view.tsx` | Презентационный компонент (только JSX) |
| `*.container.tsx` | Логика, данные, обработчики |
| `*.hooks.ts` | Локальные хуки страницы (опционально) |
| `index.ts` | Реэкспорты |

## Страницы Creator

### HomePage

Главная страница со списком созданных тестов.

**Функциональность:**
- Приветствие пользователя
- Кнопка создания теста
- Список тестов с карточками
- Удаление тестов

---

### CreatePage

Страница выбора типа теста при создании.

**Функциональность:**
- Выбор типа: викторина, тест-типология, разветвлённый сюжет
- Создание теста через API
- Переход в редактор после создания

---

### EditTestPage

Редактор теста с вопросами и ответами.

**Функциональность:**
- Редактирование welcome screen (название, описание, кнопка)
- Добавление/редактирование/удаление вопросов
- Добавление/редактирование/удаление ответов
- Отметка правильных ответов (для quiz)
- Автосохранение изменений
- Публикация теста

---

### SharePage

Страница для шеринга опубликованного теста.

**Функциональность:**
- Отображение ссылки на тест
- Копирование ссылки
- Шеринг в Telegram
- Открытие теста в новой вкладке

---

### AnalyticsPage

Страница аналитики опубликованного теста.

**Функциональность:**
- Общая статистика (прохождения, завершения)
- Распределение ответов по вопросам
- Распределение результатов (для personality тестов)

## Страницы Player

### WelcomePage

Приветственная страница перед прохождением теста.

**Функциональность:**
- Обложка и название теста
- Описание и количество вопросов
- Кнопка старта
- Проверка существующей сессии
- Возможность повторного прохождения

---

### QuestionPage

Страница вопроса при прохождении.

**Функциональность:**
- Прогресс-бар
- Текст и изображение вопроса
- Варианты ответов
- Навигация вперёд/назад
- Сохранение прогресса
- Отправка результатов

---

### ResultPage

Страница с результатом после прохождения.

**Функциональность:**
- Отображение результата (баллы или тип личности)
- Разбор ответов (для quiz)
- Шеринг результата
- Повторное прохождение

## Пример использования

```tsx
// Импорт страницы
import { HomePage } from '@/pages/creator';

// В роутере
<Route path="/" element={<HomePage />} />

// Импорт View для сторибука или тестов
import { HomePageView } from '@/pages/creator/HomePage';

<HomePageView
  greeting="Привет, Иван!"
  tests={mockTests}
  isLoading={false}
  error={null}
  onCreateTest={() => {}}
  onDeleteTest={() => {}}
  onRetry={() => {}}
/>
```

## Принципы

1. **Container** загружает данные и управляет состоянием
2. **View** получает всё через props и только рендерит
3. **Hooks** выносятся в отдельный файл при сложной логике
4. **Types** хранят интерфейсы для типизации props
